import type {
  WalletOptions,
  WalletConfig,
  ConnectUIProps,
} from "@thirdweb-dev/react-core";
import { BinanceWallet } from "@thirdweb-dev/wallets";
import { getInjectedBinanceProvider } from "@thirdweb-dev/wallets";
import { useTWLocale } from "../../../evm/providers/locale-provider";
import { ExtensionOrWCConnectionUI } from "../_common/ExtensionORWCConnectionUI";
import { handelWCSessionRequest } from "../handleWCSessionRequest";

const binanceWalletUris = {
  ios: "bnc://",
  android: "bnc://",
  other: "bnc://",
};

/**
 * @wallet
 */
export type BinanceWalletConfigOptions = {
  /**
   * When connecting Binance wallet using the QR Code - Wallet Connect connector is used which requires a project id.
   * This project id is Your projectâ€™s unique identifier for wallet connect that can be obtained at cloud.walletconnect.com.
   *
   * https://docs.walletconnect.com/2.0/web3modal/options#projectid-required
   */
  projectId?: string;
  /**
   * If `true`, the wallet will be tagged as "recommended" in ConnectWallet Modal. Default is `false`
   */
  recommended?: boolean;
};

/**
 * A wallet configurator for [Phantom Wallet](https://phantom.app/) which allows integrating the wallet with React.
 *
 * It returns a [`WalletConfig`](https://portal.thirdweb.com/references/react/v4/WalletConfig) object which can be used to connect the wallet to via [`ConnectWallet`](https://portal.thirdweb.com/react/v4/components/ConnectWallet) component or [`useConnect`](https://portal.thirdweb.com/references/react/v4/useConnect) hook as mentioned in [Connecting Wallets](https://portal.thirdweb.com/react/v4/connecting-wallets) guide
 *
 * @example
 * ```ts
 * phantomWallet({
 *  recommended: true,
 * })
 * ```
 *
 * @param options -
 * Optional configuration options for the wallet
 *
 * ### recommended (optional)
 * If `true`, the wallet will be tagged as "recommended" in [`ConnectWallet`](https://portal.thirdweb.com/react/v4/components/ConnectWallet) Modal UI. Default is `false`
 *
 * @wallet
 */
export const binanceWallet = (
  options?: BinanceWalletConfigOptions,
): WalletConfig<BinanceWallet> => {
  return {
    recommended: options?.recommended,
    id: BinanceWallet.id,
    meta: {
      name: "Binance Wallet",
      urls: {
        android:
          "https://play.google.com/store/apps/details?id=com.binance.dev",
        ios: "https://apps.apple.com/vn/app/binance-buy-bitcoin-crypto/id1436799971",
      },
      iconURL:
        "data:image/jpeg;base64,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",
    },
    create: (walletOptions: WalletOptions) => {
      const wallet = new BinanceWallet({
        ...walletOptions,
        projectId: options?.projectId,
        qrcode: false,
      });
      handelWCSessionRequest(wallet, binanceWalletUris);
      return wallet;
    },
    connectUI: ConnectUI,
    isInstalled: isBinanceWalletInstalled,
  };
};

function isBinanceWalletInstalled() {
  return !!getInjectedBinanceProvider();
}

function ConnectUI(props: ConnectUIProps<BinanceWallet>) {
  const locale = useTWLocale();
  return (
    <ExtensionOrWCConnectionUI
      connect={props.connect}
      connected={props.connected}
      createWalletInstance={props.createWalletInstance}
      goBack={props.goBack}
      meta={props.walletConfig["meta"]}
      setConnectedWallet={(w) => props.setConnectedWallet(w as BinanceWallet)}
      setConnectionStatus={props.setConnectionStatus}
      supportedWallets={props.supportedWallets}
      walletConnectUris={binanceWalletUris}
      walletLocale={locale.wallets.coreWallet}
      isInstalled={isBinanceWalletInstalled}
    />
  );
}
